<div class="panel panel-default">
	<div class="panel-heading">
		<span class="panel-title">{{title}}&nbsp;<span class="badge"
			title="{{pagedList.fullSize ?
				pagedList.fullSize : 0}} {{LANG=='fr' ? 'items au total' : 'items'}}">{{pagedList.fullSize
				? pagedList.fullSize : 0}}</span>
		</span>
		<button type="button"
			class="btn btn-default glyphicon glyphicon-search"
			(click)="displayAction = displayAction==='search' ? '' : 'search'"></button>
		<button type="button" class="btn btn-default glyphicon glyphicon-plus"
			(click)="displayAction = displayAction==='add' ? '' : 'add'"></button>
	</div>
	<div id="users_body" class="panel-body">

		<!-- tools -->
		<div class="tools">

			<div *ngIf="pagedList.error" class="alert alert-danger" role="alert">{{pagedList.error.errorReason}}</div>
			<div *ngIf="error" class="alert alert-danger" role="alert">{{error.errorReason}}</div>
		</div>
		<!-- tools -->

		<!-- tools details -->
		<div class="tools-details">
			<div [ngSwitch]="displayAction">
				<div *ngSwitchCase="'add'" class="well">
					<kwp-user-form (close)="close($event)"></kwp-user-form>
				</div>
				<div *ngSwitchCase="'search'" class="well">
					<div class="input-group">
						<span class="input-group-addon" id="username-addon1">username</span>
						<input #username_input type="text" class="form-control"
							placeholder="Username" aria-describedby="username-addon1"
							(keyup.enter)="searchUsername(username_input.value)">
					</div>
				</div>
				<span *ngSwitchDefault> </span>
			</div>
		</div>
		<!-- tools details -->



		<!-- 		<button type="button" -->
		<!-- 			class="btn btn-default glyphicon glyphicon-search" -->
		<!-- 			(click)="displayAction = displayAction==='search' ? '' : 'search'"></button> -->
		<!-- 		<button type="button" class="btn btn-default glyphicon glyphicon-plus" -->
		<!-- 			(click)="displayAction = displayAction==='add' ? '' : 'add'"></button> -->

		<!-- 		<div *ngIf="displayAction==='add'" class="well"> -->
		<!-- 			<my-user-detail (close)="close($event)"></my-user-detail> -->
		<!-- 		</div> -->

		<!-- 		<ul class="pagedlist-items"> -->
		<!-- 			<li *ngFor="let user of pagedList.getPagedItems()"><span -->
		<!-- 				(click)="onSelect(user)">{{user.username}}</span> -->
		<!-- 				<button class="delete-button" (click)="onDelete(user)">Delete</button> -->
		<!-- 			</li> -->
		<!-- 		</ul> -->

		<!-- paged list -->
		<table class="table table-striped" [kwp-paged-list]="'Users'" [listId]="'users'" [pageSize]="5">
			<tr>
				<th
					(click)="pagedList.sort('username',usernameReverse);usernameReverse=!usernameReverse">
					Nom<span [ngSwitch]="usernameReverse"> <span
						*ngSwitchCase="true" class="glyphicon glyphicon-arrow-down"
						aria-hidden="true"></span> <span *ngSwitchCase="false"
						class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span
						*ngSwitchDefault> </span>
				</span>
				</th>
				<th></th>
			</tr>
			<tr *ngFor="let user of pagedList.getPagedItems()">
				<td (click)="onSelect(user)">{{user.username}}</td>
				<td><span class="glyphicon glyphicon-floppy-remove"
					aria-hidden="true" (click)="onDelete(user)"></span></td>
			</tr>
		</table>

		<!-- pagination -->
		<ul class="pagination">
			<li [class.disabled]="pagedList.currentPage == 0"><a
				aria-label="Previous" (click)="pagedList.prevPage()"> <span
					aria-hidden="true">&laquo;</span>
			</a></li>
			<li [class.disabled]="pagedList.currentPage >= (pagedList.nbPages-1)">
				<a aria-label="Next" (click)="pagedList.nextPage()"> <span
					aria-hidden="true">&raquo;</span>
			</a>
			</li>
		</ul>
		<!-- pagination -->

		<!-- 		<ul class="pager" title> -->
		<!-- 			<li class="previous" [class.disabled]="pagedList.currentPage == 0"><a -->
		<!-- 				href="javascript:void(0)" (click)="pagedList.prevPage()"> &larr; -->
		<!-- 					<div [ngSwitch]="LANG"> -->
		<!-- 						<span *ngSwitchCase="'fr'">Précédent</span> <span *ngSwitchDefault>Previous</span> -->
		<!-- 					</div> -->
		<!-- 			</a></li> -->
		<!-- 			<span><span [hidden]="nbPages>0">Page -->
		<!-- 					{{pagedList.currentPage+1}}/{{pagedList.nbPages}} -->
		<!-- 					<div [ngSwitch]="LANG"> -->
		<!-- 						<span *ngSwitchCase="'fr'">de</span> <span *ngSwitchDefault>of</span> -->
		<!-- 					</div> -->
		<!-- 			</span> -->
		<!-- 				<div class="badge grabbing animated" -->
		<!-- 					title="{{pagedList.filteredSize ? -->
		<!-- 					pagedList.filteredSize : 0}} {{LANG=='fr' ? 'items selectionnés' : 'selected items'}}"> -->
		<!-- 					{{pagedList.filteredSize ? pagedList.filteredSize : 0}}</div> items </span> -->
		<!-- 			<li class="next" -->
		<!-- 				[class.disabled]="pagedList.currentPage >= (pagedList.nbPages-1)"><a -->
		<!-- 				href="javascript:void(0)" (click)="pagedList.nextPage()"> -->
		<!-- 					<div [ngSwitch]="LANG"> -->
		<!-- 						<span *ngSwitchCase="'fr'">Suivant</span> <span *ngSwitchDefault>Next</span> -->
		<!-- 					</div> &rarr; -->
		<!-- 			</a></li> -->
		<!-- 		</ul> -->

	</div>
</div>

<div class="error" *ngIf="error">{{error}}</div>



